<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>async와 defer의 차이점</title>
  </head>
  <body>
		<!-- JS파일 연결 위치에 따른 실행 순서 -->
		1.<head>태그 안에 선언 했을 경우
			순서: Pasing HTML > fetching js > executing js > Pasing HTML
			브라우저는 HTML을 맨 처음부터 한 줄씩 파싱하다가, 
			JS 파일을 만나면 HTML 파싱을 멈추고, JS를 서버에서 다운받고 실행한다.
			그 다음 다시 HTML을 파싱한다.
			이렇게 할 경우 단점은 JS 파일 사이즈가 크고 인터넷이 느린 환경이라면,
			사용자가 웹사이트를 볼때까지 시간이 다소 오래 걸리게 된다.

		2.<body>태그 내부 최하단에 선언 했을 경우
			순서: Pasing HTML > fetching js > executing js
			사용자가 HTML페이지를 빨리 볼 수 있다는 장점은 있지만, 
			단점으로는 해당 웹사이트가 JS에 크게 의존적인 관계라면,
			(즉 사용자가 의미있는 컨텐츠를 보기 위해서 반드시 JS가 필요하다면
			예: 서버에서 다운 받은 컨텐츠를 보여줘야한다거나, 돔 요소를 활용한 애니메이션 효과 처리)
			사용자가 정상적인 웹사이트를 실제 이용하기 위해서 딜레이가 발생한다.

		3. asyn 속성을 사용 했을 경우
			순서: Pasing HTML과 fetching js를 병렬(동시)로 처리
			<head>태그 안에 선언 asyn 옵션 사용.
			<script asyn src="#"></script>
			asyn는 불리언 타입의 속성값을 가지고 있다. 선언 기본값 : true			
			Pasing HTML > 병렬로 JS 파일을 다운로드 > Pasing HTML > JS 파일 다운로드 완료되면 파싱을 멈추고 JS를 실행 > 실행 후 다시 Pasing HTML
			장점은 파싱과 다운로드를 병렬로 처리하기 때문에, 다운로드 받는 시간 절약됨.
			단점은 HTML 파싱이 모두 완료되기 전에 JS가 실행되기 때문에, 
			JS파일에서 QuerySelector가 돔 요소를 조작해야 할때, 해당 돔이 없을 수 있다.
			그리고 돔이 생성되기 전에 JS가 언제든 실행될 수 있기 때문에, 
			여전히 사용자가 완전한 웹사이트를 보기 위해서 시간이 다소 걸릴 수 있다.
			asyc 속성을 사용한 여러개의 스크립트 파일을 선언 했다면,
			JS 파일 사이즈에 따라 다운로드하고 실행 된다.
			a > b > c로 JS를 선언해도 순서와 상관없이 실행되는 현상이 발생되므로,
			순서가 반드시 지켜져야 하는 경우라면 쓰지 말자.
			
		4. defer 속성을 사용 했을 경우
			<head>태그 안에 선언 defer 옵션 사용.
			<script defer src="#"></script>
			순서: Pasing HTML과 > JS 다운로드
			HTML을 모두 파싱함과 동시에 선언된 JS파일을 다운로드 한다.
			HTML이 모두 파싱되서 돔이 완전하게 생성되면 그때 JS를 실행한다.
			asyc와 마찬가지로 여러개의 JS파일을 defer 속성을 사용해서 선언 했을 경우,
			개발자가 선언한 순서대로 다운로드되고 파싱 된 후에 순서대로 실행한다.
			가장 효율적이고 안전한 방법이다.
	</body>
</html>
